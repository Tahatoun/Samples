Parfait, merci pour le contexte d√©taill√©. Je vais te pr√©parer un document structur√© type justification de sizing, qui reprend :
	1.	le cas Oracle (simple : reprise d‚Äôun existant + estimation 1/4 sur les environnements hors prod),
	2.	le cas SQL Server (plus d‚Äôanalyse : tables de param√©trage, historisation, gestion des fichiers Excel, liens avec Oracle).

‚∏ª

üìë Note de justification du sizing Oracle & SQL Server

1. Sch√©ma Oracle

1.1. Contexte
	‚Ä¢	Reprise du sch√©ma AGAP existant.
	‚Ä¢	Taille de r√©f√©rence actuelle : 1,5 To (source : √©changes avec Fran√ßoise, estimation BCEF = 60‚Äì70 % de la volum√©trie totale).
	‚Ä¢	Objectif : conserver des performances √©quivalentes ‚Üí sizing identique.

1.2. Justification par environnement
	‚Ä¢	Production (NRT, CGN) : doivent rester ISO avec l‚Äôexistant ‚Üí 1,5 To.
	‚Ä¢	Environnements hors prod (DEV, TEST, INT, etc.) : application de la r√®gle 1/4 (soit ~375 Go par environnement), comme d√©j√† pratiqu√© chez nos homologues.

1.3. Requ√™te Oracle pour obtenir la volum√©trie d‚Äôun sch√©ma

√Ä ex√©cuter pour valider la taille du sch√©ma existant :

2. Sch√©ma SQL Server

2.1. Contexte
	‚Ä¢	Nouveau sch√©ma SQL Server mis en place pour :
	1.	Param√©trage : reprise partielle depuis Data Layer (5 tables de param√©trage + 2 tables Setup Management).
	2.	Historisation : suivi des lancements utilisateurs (processus, fichiers charg√©s, liens avec Oracle).
	3.	Gestion des fichiers Excel : stockage des m√©tadonn√©es pour tracer les fichiers charg√©s (fichiers d√©pos√©s sur un share de 2 To).

2.2. Estimation volum√©trique

a) Tables de param√©trage
	‚Ä¢	5 tables param√©trage Data Layer
	‚Ä¢	Nature : tables de r√©f√©rence (mapping, correspondances).
	‚Ä¢	Estimation : 5 000 ‚Äì 20 000 lignes par table.
	‚Ä¢	Taille : < 50 Mo chacune.
	‚Ä¢	2 tables Setup Management
	‚Ä¢	Nature : saisies utilisateurs ponctuelles.
	‚Ä¢	Estimation : < 10 000 lignes/table.
	‚Ä¢	Taille : < 10 Mo chacune.

‚û°Ô∏è Total param√©trage ‚âà 200 Mo max (tr√®s faible).

‚∏ª

b) Tables d‚Äôhistorisation

Proposition de tables principales :
	1.	ProcessExecution
	‚Ä¢	Champs propos√©s :
	‚Ä¢	ProcessExecutionId (PK)
	‚Ä¢	ProcessName
	‚Ä¢	StartDate
	‚Ä¢	EndDate
	‚Ä¢	Status (Succ√®s/√âchec/En cours)
	‚Ä¢	UserId (qui a lanc√© le process)
	‚Ä¢	ElapsedTime
	‚Ä¢	Estimation : 50‚Äì100 ex√©cutions/jour ‚Üí ~30 000 lignes/an ‚Üí 300 000 lignes sur 10 ans.
	‚Ä¢	Taille ‚âà 300 Mo.
	2.	ProcessDetail (liens vers les entit√©s trait√©es dans Oracle)
	‚Ä¢	ProcessDetailId
	‚Ä¢	ProcessExecutionId (FK)
	‚Ä¢	OracleEntityId (ID de la donn√©e dans Oracle)
	‚Ä¢	RowCount (nombre de lignes trait√©es)
	‚Ä¢	StatusDetail
	‚Ä¢	Estimation : 100‚Äì1 000 lignes par process.
	‚Ä¢	Taille ‚âà 5‚Äì10 Go sur 10 ans.
	3.	ProcessFile (gestion des fichiers Excel li√©s)
	‚Ä¢	ProcessFileId
	‚Ä¢	ProcessExecutionId (FK)
	‚Ä¢	FileName
	‚Ä¢	FilePath (share de 2 To)
	‚Ä¢	Checksum (hash pour int√©grit√©)
	‚Ä¢	UploadDate
	‚Ä¢	Estimation : 1‚Äì2 fichiers par process, fichiers stock√©s en dehors de la DB ‚Üí seules m√©tadonn√©es en base.
	‚Ä¢	Taille ‚âà 1 Go sur 10 ans.

‚û°Ô∏è Total historisation ‚âà 15 Go sur 10 ans.

‚∏ª

2.3. Dimensionnement global SQL Server
	‚Ä¢	Param√©trage : ~200 Mo.
	‚Ä¢	Historisation (10 ans) : ~15 Go.
	‚Ä¢	Overhead (index, logs, marge) : √ó2 ‚Üí ~30‚Äì40 Go √† pr√©voir.

‚û°Ô∏è Sizing SQL Server recommand√© : 50 Go initialement, avec possibilit√© d‚Äôextension.

3. Synth√®se finale

Environnement
Oracle (sch√©ma)
SQL Server (sch√©ma)
Partage fichiers Excel
NRT / CGN
1,5 To
50 Go
2 To (share)
DEV / TEST
375 Go
20 Go
2 To (share commun)


